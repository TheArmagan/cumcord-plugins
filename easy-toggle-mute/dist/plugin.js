(function(p,i){"use strict";function c(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var o=c(p),u=c(i);class d{constructor(){this.patches=[]}add(...t){this.patches.push(...t)}remove(t){let[r]=this.patches.splice(this.patches.indexOf(l=>l==t),1);r()}removeAll(){let t=this.patches.splice(0,this.patches.length);for(let r=0;r<t.length;r++)t[r]()}}var n=new d;const{toggleLocalMute:f,toggleSelfMute:h}=o.default.findByProps("toggleLocalMute"),{getCurrentUser:g}=o.default.findByProps("getCurrentUser");function v(){const e=o.default.find(r=>r?.default?.displayName==="VoiceUser"),t=u.default.after("render",e.default.prototype,(r,l)=>{let a=l?.props?.value?l?.props?.value:l?.props?.children?.props?.children?.[1]?.props?.style?.backgroundImage?.split("/")?.[4];if(g()?.id,a){let y=l.props.onClick;l.props.onClick=function(s){if(!s.shiftKey)return y.call(this,s);s.preventDefault(),a==currentUser.id?h():f(a)}}});n.add(t)}var m={onLoad(){v()},onUnload(){n.removeAll()}};return m})(cumcord.modules.webpack,cumcord.patcher);
